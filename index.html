<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FORCA EXTREME</title>
  <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="game-container">
    <div class="particles"></div>
    <div class="header">
      <h1>FORCA <span>EXTREME</span></h1>
      <div class="score-display">
        <div class="score-box">
          <span class="score-label">ERROS</span>
          <span id="wrongGuesses" class="score-value">0</span>
          <span class="score-max">/6</span>
        </div>
        <div class="lives">
          <div class="heart"></div>
          <div class="heart"></div>
          <div class="heart"></div>
          <div class="heart"></div>
          <div class="heart"></div>
          <div class="heart"></div>
        </div>
      </div>
    </div>
    
    <div class="game-area">
      <div class="hangman-container">
        <div class="gallows">
          <div class="pole"></div>
          <div class="top-beam"></div>
          <div class="rope"></div>
          <div class="wood-texture"></div>
        </div>
        <div class="hangman-figure">
          <!-- CabeÃ§a -->
          <div class="head">
            <div class="face">
              <div class="eye left"></div>
              <div class="eye right"></div>
              <div class="mouth"></div>
              <div class="blood"></div>
            </div>
          </div>
          <!-- Corpo -->
          <div class="body">
            <div class="shirt-pattern"></div>
            <div class="blood-stream"></div>
          </div>
          <!-- BraÃ§os -->
          <div class="arm left">
            <div class="sleeve"></div>
          </div>
          <div class="arm right">
            <div class="sleeve"></div>
          </div>
          <!-- Pernas -->
          <div class="leg left">
            <div class="pants-pattern"></div>
          </div>
          <div class="leg right">
            <div class="pants-pattern"></div>
          </div>
        </div>
      </div>
      
      <div class="game-ui">
        <div class="word-container">
          <div id="wordDisplay" class="word-display"></div>
          <div class="word-underline"></div>
        </div>
        <div id="message" class="message"></div>
        <div class="keyboard" id="keyboard"></div>
        <button id="restartBtn" class="restart-btn">
          <span class="btn-text">JOGAR NOVAMENTE</span>
          <span class="btn-icon">â†»</span>
        </button>
      </div>
    </div>
    
    <div class="game-footer">
      <div class="hint">Dica: <span id="hintText"></span></div>
      <div class="sound-control">
        <button id="soundBtn" class="sound-btn">ðŸ”Š SOM LIGADO</button>
      </div>
    </div>
  </div>

<style>
  :root {
    --primary-color: #ff4757;
    --secondary-color: #ff6b81;
    --accent-color: #ff6348;
    --dark-color: #2f3542;
    --light-color: #f1f2f6;
    --success-color: #2ed573;
    --error-color: #ff4757;
    --warning-color: #ffa502;
    --blood-color: #e84118;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Poppins', sans-serif;
    background-color: #1a1a1a;
    color: white;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-image: 
      radial-gradient(circle at 20% 30%, rgba(255, 71, 87, 0.15) 0%, transparent 50%),
      radial-gradient(circle at 80% 70%, rgba(46, 213, 115, 0.15) 0%, transparent 50%),
      linear-gradient(to bottom, #1a1a1a, #2d3436);
    overflow-x: hidden;
  }

  .game-container {
    width: 1000px;
    max-width: 95%;
    background-color: rgba(47, 53, 66, 0.9);
    border-radius: 20px;
    box-shadow: 
      0 0 30px rgba(255, 71, 87, 0.3),
      0 15px 30px rgba(0, 0, 0, 0.4);
    overflow: hidden;
    padding: 30px;
    margin: 20px 0;
    position: relative;
    border: 2px solid var(--accent-color);
    backdrop-filter: blur(5px);
    z-index: 10;
  }

  .particles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
  }

  .particle {
    position: absolute;
    background-color: rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    pointer-events: none;
  }

  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    position: relative;
  }

  h1 {
    font-family: 'Bungee', cursive;
    color: white;
    font-size: 3rem;
    font-weight: 700;
    text-shadow: 
      0 0 10px var(--primary-color),
      0 0 20px var(--primary-color),
      2px 2px 0 var(--dark-color);
    letter-spacing: 2px;
    position: relative;
    z-index: 1;
  }

  h1 span {
    color: var(--accent-color);
    text-shadow: 
      0 0 10px var(--accent-color),
      0 0 20px var(--accent-color),
      2px 2px 0 var(--dark-color);
  }

  .score-display {
    display: flex;
    flex-direction: column;
    gap: 15px;
    align-items: flex-end;
  }

  .score-box {
    background-color: var(--dark-color);
    color: white;
    padding: 12px 25px;
    border-radius: 50px;
    display: flex;
    align-items: center;
    box-shadow: 
      0 4px 8px rgba(0, 0, 0, 0.3),
      inset 0 0 10px rgba(0, 0, 0, 0.5);
    border: 2px solid var(--primary-color);
    position: relative;
    overflow: hidden;
  }

  .score-box::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
      to bottom right,
      transparent,
      transparent,
      transparent,
      var(--primary-color),
      transparent
    );
    transform: rotate(30deg);
    animation: shine 3s infinite;
  }

  @keyframes shine {
    0% { left: -50%; }
    100% { left: 150%; }
  }

  .score-label {
    font-weight: 600;
    margin-right: 8px;
    text-transform: uppercase;
    font-size: 0.9rem;
    color: var(--light-color);
  }

  .score-value {
    font-weight: 700;
    font-size: 1.5rem;
    color: white;
    min-width: 20px;
    text-align: center;
  }

  .score-max {
    opacity: 0.8;
    font-size: 0.9rem;
    margin-left: 3px;
    color: var(--light-color);
  }

  .lives {
    display: flex;
    gap: 8px;
  }

  .heart {
    width: 20px;
    height: 20px;
    background-color: var(--primary-color);
    clip-path: polygon(
      50% 100%,
      0% 60%,
      30% 60%,
      30% 30%,
      50% 0%,
      70% 30%,
      70% 60%,
      100% 60%
    );
    transform: rotate(45deg);
    transition: all 0.3s ease;
    box-shadow: 0 0 5px rgba(255, 71, 87, 0.7);
  }

  .game-area {
    display: flex;
    gap: 40px;
    align-items: center;
    position: relative;
  }

  .hangman-container {
    width: 350px;
    height: 500px;
    position: relative;
    flex-shrink: 0;
    filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.5));
  }

  .gallows {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  .pole {
    position: absolute;
    width: 20px;
    height: 350px;
    background-color: #5e3a21;
    bottom: 0;
    left: 60px;
    border-radius: 5px;
    box-shadow: 
      3px 3px 5px rgba(0, 0, 0, 0.3),
      inset 2px 2px 5px rgba(255, 255, 255, 0.1);
    background-image: 
      linear-gradient(
        to right,
        #5e3a21 0%,
        #8b4513 50%,
        #5e3a21 100%
      );
    z-index: 1;
  }

  .top-beam {
    position: absolute;
    width: 180px;
    height: 20px;
    background-color: #5e3a21;
    top: 60px;
    left: 60px;
    border-radius: 5px;
    box-shadow: 
      3px 3px 5px rgba(0, 0, 0, 0.3),
      inset 2px 2px 5px rgba(255, 255, 255, 0.1);
    background-image: 
      linear-gradient(
        to bottom,
        #5e3a21 0%,
        #8b4513 50%,
        #5e3a21 100%
      );
    z-index: 1;
  }

  .rope {
    position: absolute;
    width: 6px;
    height: 50px;
    background-color: #654321;
    top: 60px;
    left: 230px;
    border-radius: 3px;
    box-shadow: 
      1px 1px 3px rgba(0, 0, 0, 0.3),
      inset 1px 1px 3px rgba(255, 255, 255, 0.1);
    background-image: 
      linear-gradient(
        to right,
        #654321 0%,
        #8b5a2b 50%,
        #654321 100%
      );
    z-index: 2;
  }

  .wood-texture {
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M0,50 Q25,40 50,50 T100,50" stroke="rgba(0,0,0,0.1)" fill="none" stroke-width="1"/></svg>');
    opacity: 0.3;
    z-index: 3;
    pointer-events: none;
  }

  .hangman-figure {
    position: absolute;
    top: 110px;
    left: 215px;
    transform-origin: top center;
    transition: all 0.3s ease;
    z-index: 10;
  }

  .hangman-figure:hover {
    animation: wobble 0.8s infinite alternate;
    filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5));
  }

  @keyframes wobble {
    0% {
      transform: rotate(-5deg);
    }
    100% {
      transform: rotate(5deg);
    }
  }

  .head {
    width: 80px;
    height: 80px;
    background-color: #ffdbac;
    border-radius: 50%;
    position: relative;
    border: 4px solid var(--dark-color);
    box-shadow: 
      inset -5px -5px 15px rgba(0, 0, 0, 0.3),
      0 0 10px rgba(0, 0, 0, 0.5);
    background-image: 
      radial-gradient(
        circle at 30% 30%,
        #ffdbac 0%,
        #e8c9a7 50%,
        #d9b89b 100%
      );
    z-index: 5;
    overflow: hidden;
  }

  .face {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  .eye {
    width: 15px;
    height: 15px;
    background-color: var(--dark-color);
    border-radius: 50%;
    position: absolute;
    top: 30px;
    transition: all 0.3s ease;
  }

  .eye.left {
    left: 20px;
  }

  .eye.right {
    right: 20px;
  }

  .eye.x-eye::before, .eye.x-eye::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 4px;
    background-color: var(--dark-color);
    top: 50%;
    left: 50%;
  }

  .eye.x-eye::before {
    transform: translate(-50%, -50%) rotate(45deg);
  }

  .eye.x-eye::after {
    transform: translate(-50%, -50%) rotate(-45deg);
  }

  .mouth {
    width: 40px;
    height: 15px;
    border-bottom: 4px solid var(--dark-color);
    border-radius: 0 0 50% 50%;
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    transition: all 0.3s ease;
  }

  .mouth.dead {
    border-bottom: none;
    border-top: 4px solid var(--dark-color);
    border-radius: 50% 50% 0 0;
    height: 10px;
  }

  .blood {
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M20,50 Q30,30 50,20 Q70,30 80,50 Q70,70 50,80 Q30,70 20,50" fill="rgba(232,65,24,0.7)"/></svg>');
    background-size: cover;
    opacity: 0;
    transition: opacity 0.5s ease;
    z-index: 6;
  }

  .blood.visible {
    opacity: 1;
  }

  .body {
    width: 60px;
    height: 120px;
    background-color: #4682b4;
    position: absolute;
    top: 80px;
    left: 10px;
    border-radius: 15px;
    border: 4px solid var(--dark-color);
    box-shadow: 
      inset -5px -5px 15px rgba(0, 0, 0, 0.3),
      0 0 10px rgba(0, 0, 0, 0.5);
    background-image: 
      linear-gradient(
        to bottom,
        #4682b4 0%,
        #5f9ea0 50%,
        #4682b4 100%
      );
    z-index: 4;
    overflow: hidden;
  }

  .shirt-pattern {
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: 
      linear-gradient(
        45deg,
        rgba(255,255,255,0.1) 25%,
        transparent 25%,
        transparent 50%,
        rgba(255,255,255,0.1) 50%,
        rgba(255,255,255,0.1) 75%,
        transparent 75%,
        transparent
      );
    background-size: 20px 20px;
    opacity: 0.5;
  }

  .blood-stream {
    position: absolute;
    width: 10px;
    height: 0;
    background-color: var(--blood-color);
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    transition: height 1s ease;
    border-radius: 5px 5px 0 0;
    box-shadow: 0 0 10px var(--blood-color);
  }

  .arm {
    width: 80px;
    height: 25px;
    background-color: #ffdbac;
    position: absolute;
    border: 4px solid var(--dark-color);
    border-radius: 15px;
    top: 90px;
    box-shadow: 
      inset -5px -5px 15px rgba(0, 0, 0, 0.3),
      0 0 10px rgba(0, 0, 0, 0.5);
    background-image: 
      linear-gradient(
        to right,
        #ffdbac 0%,
        #e8c9a7 50%,
        #ffdbac 100%
      );
    z-index: 3;
  }

  .arm.left {
    left: -70px;
    transform: rotate(30deg);
    transform-origin: right center;
  }

  .arm.right {
    left: 50px;
    transform: rotate(-30deg);
    transform-origin: left center;
  }

  .sleeve {
    position: absolute;
    width: 30px;
    height: 100%;
    background-color: #5f9ea0;
    border-radius: 10px;
  }

  .arm.left .sleeve {
    right: 0;
    border-radius: 0 10px 10px 0;
  }

  .arm.right .sleeve {
    left: 0;
    border-radius: 10px 0 0 10px;
  }

  .leg {
    width: 80px;
    height: 30px;
    background-color: #1e90ff;
    position: absolute;
    border: 4px solid var(--dark-color);
    border-radius: 0 0 15px 15px;
    top: 200px;
    box-shadow: 
      inset -5px -5px 15px rgba(0, 0, 0, 0.3),
      0 0 10px rgba(0, 0, 0, 0.5);
    background-image: 
      linear-gradient(
        to bottom,
        #1e90ff 0%,
        #4169e1 50%,
        #1e90ff 100%
      );
    z-index: 2;
  }

  .leg.left {
    left: -10px;
    transform: rotate(-10deg);
  }

  .leg.right {
    left: -10px;
    transform: rotate(10deg);
  }

  .pants-pattern {
    position: absolute;
    width: 100%;
    height: 100%;
    background-image: 
      linear-gradient(
        45deg,
        rgba(0,0,0,0.1) 25%,
        transparent 25%,
        transparent 50%,
        rgba(0,0,0,0.1) 50%,
        rgba(0,0,0,0.1) 75%,
        transparent 75%,
        transparent
      );
    background-size: 10px 10px;
  }

  .game-ui {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    gap: 25px;
  }

  .word-container {
    position: relative;
    padding: 20px;
    background-color: rgba(47, 53, 66, 0.7);
    border-radius: 15px;
    box-shadow: 
      inset 0 0 10px rgba(0, 0, 0, 0.5),
      0 5px 15px rgba(0, 0, 0, 0.3);
    border: 2px solid var(--accent-color);
  }

  .word-display {
    font-size: 3rem;
    letter-spacing: 20px;
    font-weight: 700;
    color: white;
    min-height: 80px;
    display: flex;
    justify-content: center;
    align-items: center;
    text-transform: uppercase;
    margin: 20px 0;
    text-shadow: 
      0 0 5px white,
      0 0 10px var(--primary-color);
    font-family: 'Bungee', cursive;
    position: relative;
    z-index: 2;
  }

  .word-underline {
    position: absolute;
    bottom: 10px;
    left: 0;
    width: 100%;
    height: 5px;
    background: linear-gradient(
      to right,
      transparent,
      var(--primary-color),
      transparent
    );
    border-radius: 5px;
    opacity: 0.7;
    animation: underline-pulse 2s infinite;
  }

  @keyframes underline-pulse {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.8; }
  }

  .message {
    font-size: 1.5rem;
    font-weight: 600;
    min-height: 50px;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    opacity: 0;
    transition: all 0.5s ease;
    position: relative;
    overflow: hidden;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .message::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      45deg,
      transparent,
      rgba(255,255,255,0.1),
      transparent
    );
    transform: translateX(-100%);
  }

  .message.show {
    opacity: 1;
  }

  .message.show::before {
    animation: shine-over 1.5s infinite;
  }

  @keyframes shine-over {
    100% { transform: translateX(100%); }
  }

  .message.success {
    color: var(--success-color);
    background-color: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--success-color);
    text-shadow: 0 0 10px var(--success-color);
  }

  .message.error {
    color: var(--error-color);
    background-color: rgba(0, 0, 0, 0.7);
    border: 2px solid var(--error-color);
    text-shadow: 0 0 10px var(--error-color);
  }

  .keyboard {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    margin-top: 20px;
    padding: 20px;
    background-color: rgba(47, 53, 66, 0.7);
    border-radius: 15px;
    box-shadow: 
      inset 0 0 10px rgba(0, 0, 0, 0.5),
      0 5px 15px rgba(0, 0, 0, 0.3);
    border: 2px solid var(--accent-color);
  }

  .keyboard button {
    width: 60px;
    height: 60px;
    font-size: 1.5rem;
    font-weight: 700;
    cursor: pointer;
    background-color: var(--dark-color);
    color: white;
    border: none;
    border-radius: 15px;
    transition: all 0.3s ease;
    box-shadow: 
      0 5px 10px rgba(0, 0, 0, 0.3),
      inset 0 0 5px rgba(255, 255, 255, 0.1);
    text-transform: uppercase;
    position: relative;
    overflow: hidden;
  }

  .keyboard button::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      45deg,
      transparent,
      rgba(255,255,255,0.2),
      transparent
    );
    transform: translateX(-100%);
  }

  .keyboard button:hover:not(:disabled)::before {
    animation: shine-over 1s;
  }

  .keyboard button:hover:not(:disabled) {
    background-color: var(--primary-color);
    transform: translateY(-5px) scale(1.05);
    box-shadow: 
      0 8px 15px rgba(0, 0, 0, 0.4),
      inset 0 0 10px rgba(255, 255, 255, 0.2);
    z-index: 2;
  }

  .keyboard button:active:not(:disabled) {
    transform: translateY(2px);
    box-shadow: 
      0 2px 5px rgba(0, 0, 0, 0.3),
      inset 0 0 10px rgba(0, 0, 0, 0.2);
  }

  .keyboard button:disabled {
    background-color: #57606f;
    color: #a4b0be;
    cursor: default;
    transform: none;
    box-shadow: 
      inset 0 0 10px rgba(0, 0, 0, 0.5);
  }

  .keyboard button.correct {
    background-color: var(--success-color);
    color: white;
    box-shadow: 
      0 0 15px var(--success-color),
      inset 0 0 10px rgba(255, 255, 255, 0.3);
  }

  .keyboard button.wrong {
    background-color: var(--error-color);
    color: white;
    box-shadow: 
      0 0 15px var(--error-color),
      inset 0 0 10px rgba(255, 255, 255, 0.3);
    animation: shake 0.5s;
  }

  .restart-btn {
    margin: 20px auto 0;
    padding: 15px 40px;
    font-size: 1.2rem;
    font-weight: 700;
    background: linear-gradient(
      to right,
      var(--accent-color),
      var(--primary-color)
    );
    color: white;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 
      0 5px 15px rgba(253, 121, 168, 0.5),
      0 0 10px rgba(255, 255, 255, 0.5);
    display: flex;
    align-items: center;
    gap: 10px;
    text-transform: uppercase;
    letter-spacing: 1px;
    position: relative;
    overflow: hidden;
    display: none;
  }

  .restart-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      45deg,
      transparent,
      rgba(255,255,255,0.3),
      transparent
    );
    transform: translateX(-100%);
  }

  .restart-btn:hover::before {
    animation: shine-over 1s;
  }

  .restart-btn:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: 
      0 8px 20px rgba(253, 121, 168, 0.7),
      0 0 15px rgba(255, 255, 255, 0.7);
  }

  .restart-btn:active {
    transform: translateY(1px);
  }

  .btn-icon {
    font-size: 1.5rem;
    animation: spin 2s infinite linear;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  .game-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 2px solid rgba(255, 255, 255, 0.1);
  }

  .hint {
    font-size: 1rem;
    color: var(--light-color);
    opacity: 0.8;
  }

  #hintText {
    color: var(--warning-color);
    font-weight: 600;
  }

  .sound-btn {
    background-color: transparent;
    color: var(--light-color);
    border: 2px solid var(--light-color);
    border-radius: 50px;
    padding: 8px 15px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .sound-btn:hover {
    background-color: var(--light-color);
    color: var(--dark-color);
  }

  /* Hangman parts visibility based on wrong guesses */
  .hangman-figure .head { display: none; }
  .hangman-figure .body { display: none; }
  .hangman-figure .arm.left { display: none; }
  .hangman-figure .arm.right { display: none; }
  .hangman-figure .leg.left { display: none; }
  .hangman-figure .leg.right { display: none; }

  .hangman-figure.show-1 .head { display: block; }
  .hangman-figure.show-2 .body { display: block; }
  .hangman-figure.show-3 .arm.left { display: block; }
  .hangman-figure.show-4 .arm.right { display: block; }
  .hangman-figure.show-5 .leg.left { display: block; }
  .hangman-figure.show-6 .leg.right { display: block; }

  /* Death effects */
  .dead-eyes .eye {
    background-color: transparent;
  }

  .dead-eyes .eye.x-eye::before,
  .dead-eyes .eye.x-eye::after {
    background-color: var(--dark-color);
  }

  .bleeding .blood {
    opacity: 1;
  }

  .bleeding .blood-stream {
    height: 120px;
  }

  /* Animations for hangman parts */
  .head {
    transition: transform 0.3s ease;
  }
  .hangman-figure:hover .head {
    animation: headTilt 2s infinite alternate;
  }
  @keyframes headTilt {
    0%, 100% {
      transform: rotate(0deg);
    }
    25% {
      transform: rotate(5deg);
    }
    75% {
      transform: rotate(-5deg);
    }
  }

  .arm.left {
    transition: transform 0.5s ease;
  }
  .hangman-figure:hover .arm.left {
    animation: armSwingLeft 1.5s infinite alternate;
  }
  @keyframes armSwingLeft {
    0%, 100% {
      transform: rotate(30deg);
    }
    50% {
      transform: rotate(50deg);
    }
  }

  .arm.right {
    transition: transform 0.5s ease;
  }
  .hangman-figure:hover .arm.right {
    animation: armSwingRight 1.5s infinite alternate;
  }
  @keyframes armSwingRight {
    0%, 100% {
      transform: rotate(-30deg);
    }
    50% {
      transform: rotate(-50deg);
    }
  }

  .leg.left {
    transition: transform 0.5s ease;
  }
  .hangman-figure:hover .leg.left {
    animation: legKickLeft 1s infinite alternate;
  }
  @keyframes legKickLeft {
    0%, 100% {
      transform: rotate(-10deg);
    }
    50% {
      transform: rotate(-30deg);
    }
  }

  .leg.right {
    transition: transform 0.5s ease;
  }
  .hangman-figure:hover .leg.right {
    animation: legKickRight 1s infinite alternate;
  }
  @keyframes legKickRight {
    0%, 100% {
      transform: rotate(10deg);
    }
    50% {
      transform: rotate(30deg);
    }
  }

  /* Responsive design */
  @media (max-width: 900px) {
    .game-area {
      flex-direction: column;
    }
    
    .hangman-container {
      margin-bottom: 30px;
      height: 400px;
      width: 280px;
    }
    
    .pole {
      height: 280px;
    }
    
    .top-beam {
      width: 140px;
    }
    
    .rope {
      left: 190px;
    }
    
    .hangman-figure {
      left: 175px;
    }
    
    .word-display {
      font-size: 2rem;
      letter-spacing: 10px;
    }
    
    .keyboard button {
      width: 45px;
      height: 45px;
      font-size: 1.2rem;
    }
    
    h1 {
      font-size: 2.2rem;
    }
  }

  @media (max-width: 600px) {
    .game-container {
      padding: 20px;
    }
    
    .word-display {
      font-size: 1.5rem;
      letter-spacing: 5px;
      min-height: 60px;
    }
    
    .keyboard {
      gap: 5px;
      padding: 10px;
    }
    
    .keyboard button {
      width: 35px;
      height: 35px;
      font-size: 1rem;
      border-radius: 8px;
    }
    
    .header {
      flex-direction: column;
      gap: 15px;
      align-items: center;
    }
    
    .score-display {
      flex-direction: row;
      align-items: center;
      gap: 20px;
    }
    
    .game-footer {
      flex-direction: column;
      gap: 15px;
    }
  }
</style>

<script>
  let selectedWord = "";
  let displayedWord = [];
  let wrongGuesses = 0;
  const maxGuesses = 6;
  let soundEnabled = true;

  const wordDisplay = document.getElementById("wordDisplay");
  const keyboard = document.getElementById("keyboard");
  const wrongDisplay = document.getElementById("wrongGuesses");
  const message = document.getElementById("message");
  const restartBtn = document.getElementById("restartBtn");
  const hangmanFigure = document.querySelector(".hangman-figure");
  const hintText = document.getElementById("hintText");
  const soundBtn = document.getElementById("soundBtn");
  const hearts = document.querySelectorAll(".heart");
  const particlesContainer = document.querySelector(".particles");

  // Sound effects
  const sounds = {
    correct: new Audio('https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3'),
    wrong: new Audio('https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3'),
    win: new Audio('https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3'),
    lose: new Audio('https://assets.mixkit.co/sfx/preview/mixkit-retro-arcade-lose-2027.mp3'),
    click: new Audio('https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3')
  };

  // Preload sounds
  Object.values(sounds).forEach(sound => {
    sound.load();
    sound.volume = 0.5;
  });

  async function fetchRandomWord() {
    try {
      const res = await fetch("https://api.dicionario-aberto.net/random");
      const data = await res.json();
      const word = normalizeWord(data.word.toLowerCase());
      const hint = await fetchWordHint(data.word);
      return { word, hint };
    } catch (err) {
      console.error("Erro ao buscar palavra:", err);
      return { word: "javascript", hint: "Linguagem de programaÃ§Ã£o" }; // Fallback
    }
  }

  async function fetchWordHint(word) {
    try {
      const res = await fetch(`https://api.dicionario-aberto.net/word/${word}`);
      const data = await res.json();
      if (data && data.length > 0 && data[0].xml) {
        // Simple XML parsing to get the first definition
        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(data[0].xml, "text/xml");
        const definition = xmlDoc.querySelector("def")?.textContent || "Sem dica disponÃ­vel";
        return definition.length > 100 ? definition.substring(0, 100) + "..." : definition;
      }
      return "Sem dica disponÃ­vel";
    } catch (err) {
      console.error("Erro ao buscar dica:", err);
      return "Sem dica disponÃ­vel";
    }
  }

  function normalizeWord(word) {
    return word
      .normalize("NFD")
      .replace(/[\u0300-\u036f]/g, "")
      .replace(/[^a-z]/g, "");
  }

  function createParticles(x, y, color, count = 20) {
    for (let i = 0; i < count; i++) {
      const particle = document.createElement("div");
      particle.classList.add("particle");
      particle.style.backgroundColor = color;
      particle.style.width = `${Math.random() * 8 + 4}px`;
      particle.style.height = particle.style.width;
      particle.style.left = `${x}px`;
      particle.style.top = `${y}px`;
      
      const angle = Math.random() * Math.PI * 2;
      const velocity = Math.random() * 5 + 2;
      const xVelocity = Math.cos(angle) * velocity;
      const yVelocity = Math.sin(angle) * velocity;
      
      particlesContainer.appendChild(particle);
      
      let opacity = 1;
      const fadeInterval = setInterval(() => {
        opacity -= 0.05;
        particle.style.opacity = opacity;
        if (opacity <= 0) {
          clearInterval(fadeInterval);
          particle.remove();
        }
      }, 50);
      
      let posX = x;
      let posY = y;
      const moveInterval = setInterval(() => {
        posX += xVelocity;
        posY += yVelocity + 0.5; // Gravity
        particle.style.left = `${posX}px`;
        particle.style.top = `${posY}px`;
      }, 30);
      
      setTimeout(() => {
        clearInterval(moveInterval);
      }, 1000);
    }
  }

  async function initGame() {
    const { word, hint } = await fetchRandomWord();
    selectedWord = word;
    displayedWord = Array(selectedWord.length).fill("_");
    wrongGuesses = 0;

    wordDisplay.textContent = displayedWord.join(" ");
    wrongDisplay.textContent = wrongGuesses;
    message.textContent = "";
    message.className = "message";
    restartBtn.style.display = "none";
    hintText.textContent = hint;

    // Reset hangman figure
    hangmanFigure.className = "hangman-figure";
    document.querySelector(".mouth").className = "mouth";
    document.querySelector(".blood").className = "blood";
    document.querySelector(".blood-stream").style.height = "0";

    // Reset hearts
    hearts.forEach(heart => {
      heart.style.opacity = "1";
    });

    // Reset keyboard
    keyboard.innerHTML = "";
    for (let i = 65; i <= 90; i++) {
      const letter = String.fromCharCode(i).toLowerCase();
      const btn = document.createElement("button");
      btn.textContent = letter;
      btn.addEventListener("click", () => handleGuess(letter, btn));
      keyboard.appendChild(btn);
    }

    // Create initial particles
    for (let i = 0; i < 50; i++) {
      setTimeout(() => {
        createParticles(
          Math.random() * window.innerWidth,
          Math.random() * window.innerHeight,
          `hsl(${Math.random() * 60 + 200}, 80%, 60%)`
        );
      }, i * 100);
    }
  }

  function playSound(soundName) {
    if (!soundEnabled) return;
    
    const sound = sounds[soundName];
    sound.currentTime = 0;
    sound.play().catch(e => console.log("Audio play failed:", e));
  }

  function handleGuess(letter, btn) {
    playSound("click");
    btn.disabled = true;

    if (selectedWord.includes(letter)) {
      // Correct guess
      playSound("correct");
      btn.classList.add("correct");
      
      // Create particles for correct guess
      const rect = btn.getBoundingClientRect();
      createParticles(
        rect.left + rect.width / 2,
        rect.top + rect.height / 2,
        "#2ed573",
        15
      );

      for (let i = 0; i < selectedWord.length; i++) {
        if (selectedWord[i] === letter) {
          displayedWord[i] = letter;
        }
      }
      wordDisplay.textContent = displayedWord.join(" ");
    } else {
      // Wrong guess
      playSound("wrong");
      wrongGuesses++;
      wrongDisplay.textContent = wrongGuesses;
      btn.classList.add("wrong");
      
      // Update hangman figure
      hangmanFigure.classList.add(`show-${wrongGuesses}`);
      
      // Update hearts
      if (wrongGuesses <= hearts.length) {
        hearts[hearts.length - wrongGuesses].style.opacity = "0.3";
      }
      
      // Shake animation for wrong guess
      hangmanFigure.style.animation = "shake 0.5s";
      setTimeout(() => {
        hangmanFigure.style.animation = "";
      }, 500);
      
      // Create particles for wrong guess
      const rect = btn.getBoundingClientRect();
      createParticles(
        rect.left + rect.width / 2,
        rect.top + rect.height / 2,
        "#ff4757",
        15
      );
    }

    checkGameStatus();
  }

  function checkGameStatus() {
    if (!displayedWord.includes("_")) {
      // Player won
      playSound("win");
      message.textContent = "ðŸŽ‰ PARABÃ‰NS! VOCÃŠ VENCEU! ðŸŽ‰";
      message.classList.add("show", "success");
      endGame();
      
      // Celebration animation
      hangmanFigure.style.animation = "celebrate 2s";
      setTimeout(() => {
        hangmanFigure.style.animation = "";
      }, 2000);
      
      // Create celebration particles
      for (let i = 0; i < 100; i++) {
        setTimeout(() => {
          createParticles(
            Math.random() * window.innerWidth,
            Math.random() * window.innerHeight,
            `hsl(${Math.random() * 60 + 200}, 80%, 60%)`
          );
        }, i * 20);
      }
    } else if (wrongGuesses >= maxGuesses) {
      // Player lost
      playSound("lose");
      message.textContent = `â˜ ï¸ VOCÃŠ PERDEU! A PALAVRA ERA "${selectedWord.toUpperCase()}". â˜ ï¸`;
      message.classList.add("show", "error");
      endGame();
      
      // Death effects
      hangmanFigure.classList.add("dead-eyes", "bleeding");
      document.querySelector(".mouth").classList.add("dead");
      document.querySelector(".blood").classList.add("visible");
      document.querySelector(".blood-stream").style.height = "120px";
      
      // Dead animation
      hangmanFigure.style.animation = "dead 1s";
      setTimeout(() => {
        hangmanFigure.style.animation = "";
      }, 1000);
      
      // Create blood particles
      const headRect = document.querySelector(".head").getBoundingClientRect();
      for (let i = 0; i < 30; i++) {
        setTimeout(() => {
          createParticles(
            headRect.left + headRect.width / 2,
            headRect.top + headRect.height / 2,
            "#e84118",
            1
          );
        }, i * 100);
      }
    }
  }

  function endGame() {
    const buttons = keyboard.querySelectorAll("button");
    buttons.forEach(btn => btn.disabled = true);
    restartBtn.style.display = "flex";
  }

  restartBtn.addEventListener("click", () => {
    playSound("click");
    initGame();
  });

  soundBtn.addEventListener("click", () => {
    soundEnabled = !soundEnabled;
    soundBtn.textContent = soundEnabled ? "ðŸ”Š SOM LIGADO" : "ðŸ”‡ SOM DESLIGADO";
    playSound("click");
  });

  // Add keypress event for keyboard input
  document.addEventListener("keydown", (e) => {
    if (e.keyCode >= 65 && e.keyCode <= 90) {
      const letter = e.key.toLowerCase();
      const button = Array.from(keyboard.querySelectorAll("button")).find(
        btn => btn.textContent === letter && !btn.disabled
      );
      if (button) button.click();
    }
  });

  // Add CSS for additional animations
  const style = document.createElement("style");
  style.textContent = `
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }
    
    @keyframes celebrate {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }
    
    @keyframes dead {
      0% { transform: rotate(0); }
      100% { transform: rotate(90deg); }
    }
  `;
  document.head.appendChild(style);

  // Initialize particles
  for (let i = 0; i < 30; i++) {
    setTimeout(() => {
      createParticles(
        Math.random() * window.innerWidth,
        Math.random() * window.innerHeight,
        `hsl(${Math.random() * 60 + 200}, 80%, 60%)`
      );
    }, i * 100);
  }

  window.onload = initGame;
</script>
</body>
</html>